package kontor:contract;

world contract {
    import kontor:built-in/context;
    import kontor:built-in/error;
    import kontor:built-in/numbers;
    import kontor:built-in/foreign;
    
    use kontor:built-in/context.{view-context, proc-context};
    use kontor:built-in/error.{error};
    use kontor:built-in/numbers.{integer};
    use kontor:built-in/foreign.{contract-address};
    
    // Define a test Balance resource
    resource balance {
        amount: func() -> integer;
        token: func() -> contract-address;
        
        // Constructor
        constructor(amount: integer, token: contract-address);
    }
    
    // Export functions for testing resource handling
    export init: func(ctx: borrow<proc-context>);
    
    // Test consuming a resource
    export consume-balance: func(ctx: borrow<proc-context>, bal: balance) -> result<_, error>;
    
    // Test creating a resource
    export create-balance: func(ctx: borrow<proc-context>, amount: integer) -> result<balance, error>;
    
    // Test optional resource
    export maybe-balance: func(ctx: borrow<view-context>, check: bool) -> option<balance>;
}